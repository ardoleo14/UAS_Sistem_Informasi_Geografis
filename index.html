<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
    <link rel="stylesheet" href="css/qgis2web.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <link rel="stylesheet" href="css/leaflet.photon.css">

    <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
    </style>

    <title>WebGIS Kesesuaian Lahan Permukiman Kabupaten Sidoarjo</title>
</head>

<body>
<div id="map"></div>

<script src="js/qgis2web_expressions.js"></script>
<script src="js/leaflet.js"></script>
<script src="js/L.Control.Layers.Tree.min.js"></script>
<script src="js/leaflet.rotatedMarker.js"></script>
<script src="js/leaflet.pattern.js"></script>
<script src="js/leaflet-hash.js"></script>
<script src="js/Autolinker.min.js"></script>
<script src="js/rbush.min.js"></script>
<script src="js/labelgun.min.js"></script>
<script src="js/labels.js"></script>
<script src="js/leaflet.photon.js"></script>

<!-- DATA -->
<script src="data/Kesesuaian_Permukiman_DISSOLVE_1.js"></script>
<script src="data/Buffered_500M_Pendidikan_Sidoarjo_2.js"></script>
<script src="data/Pendidikan_Sisoarjo_3.js"></script>
<script src="data/Permukiman_Sidoarjo_4.js"></script>
<script src="data/Buffered_200M_Sidoarjo_RAWAN_Rendah_5.js"></script>
<script src="data/Buffered_100M_Sidoarjo_RAWAN_Sedang_6.js"></script>
<script src="data/Buffered_50M_Sidoarjo_RAWAN_Tinggi_7.js"></script>
<script src="data/Sungai_8.js"></script>
<script src="data/Garis_Pantai_Sidoarjo_9.js"></script>
<script src="data/WADUK_Sidoarjo_10.js"></script>
<script src="data/RumahSakit_sidoarjo_11.js"></script>
<script src="data/Terminal_sidoarjo_12.js"></script>
<script src="data/industrial_sidoarjo_13.js"></script>
<script src="data/Stasiun_sidoarjo_14.js"></script>
<script src="data/SaranaIbadah_sidoarjo_15.js"></script>
<script src="data/Pasar_PusatPerdagangan_sidoarjo_16.js"></script>

<script>
var map = L.map('map', {
    zoomControl: false,
    maxZoom: 28,
    minZoom: 1
}).fitBounds([
    [-7.4515216700171845,112.78494407368397],
    [-7.386181728105752,112.8973971243958]
]);

var hash = new L.Hash(map);

map.attributionControl.setPrefix(
    '<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> · ' +
    '<a href="https://leafletjs.com">Leaflet</a> · ' +
    '<a href="https://qgis.org">QGIS</a>'
);

var title = new L.Control({position: 'topright'});
title.onAdd = function () {
    var div = L.DomUtil.create('div', 'info');
    div.innerHTML = '<h2>WebGIS Kesesuaian Lahan Permukiman Kabupaten Sidoarjo</h2>';
    return div;
};
title.addTo(map);

L.control.zoom({ position: 'topleft' }).addTo(map);

/* BASEMAP (HTTPS FIX) */
map.createPane('pane_OSMStandard_0');
map.getPane('pane_OSMStandard_0').style.zIndex = 400;

var layer_OSMStandard_0 = L.tileLayer(
    'https://tile.openstreetmap.org/{z}/{x}/{y}.png',
    {
        pane: 'pane_OSMStandard_0',
        opacity: 1,
        minZoom: 1,
        maxZoom: 28,
        maxNativeZoom: 19
    }
);
map.addLayer(layer_OSMStandard_0);

/* ====== LAYERS (TETAP DARI QGIS2WEB) ====== */
var bounds_group = new L.featureGroup([]);

/* === CONTOH 1 LAYER UTAMA (YANG PENTING SUDAH AMAN) === */
map.createPane('pane_Kesesuaian_Permukiman_DISSOLVE_1');
map.getPane('pane_Kesesuaian_Permukiman_DISSOLVE_1').style.zIndex = 401;

var layer_Kesesuaian_Permukiman_DISSOLVE_1 = new L.geoJson(
    json_Kesesuaian_Permukiman_DISSOLVE_1,
    {
        pane: 'pane_Kesesuaian_Permukiman_DISSOLVE_1',
        style: {
            color: '#232323',
            weight: 1,
            fillColor: '#b7484b',
            fillOpacity: 1
        },
        interactive: true
    }
);
map.addLayer(layer_Kesesuaian_Permukiman_DISSOLVE_1);
bounds_group.addLayer(layer_Kesesuaian_Permukiman_DISSOLVE_1);

/* === LAYER CONTROL === */
L.control.layers.tree(
    null,
    [
        {label: "Kesesuaian Permukiman", layer: layer_Kesesuaian_Permukiman_DISSOLVE_1},
        {label: "OSM Standard", layer: layer_OSMStandard_0}
    ],
    {collapsed: false}
).addTo(map);

</script>
</body>
</html>
