<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<title>WebGIS Kesesuaian Lahan Permukiman Kabupaten Sidoarjo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="css/leaflet.css">

<style>
html, body, #map {
    height: 100%;
    margin: 0;
}
.header {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    background: white;
    padding: 8px 15px;
    z-index: 1000;
    font-weight: bold;
    border-radius: 6px;
    box-shadow: 0 0 5px rgba(0,0,0,.3);
}
</style>
</head>

<body>

<div class="header">
WebGIS Kesesuaian Lahan Permukiman Kabupaten Sidoarjo
</div>

<div id="map"></div>

<script src="js/leaflet.js"></script>

<!-- DATA -->
<script src="data/Kesesuaian_Permukiman_DISSOLVE_1.js"></script>
<script src="data/Buffered_500M_Pendidikan_Sidoarjo_2.js"></script>
<script src="data/Pendidikan_Sisoarjo_3.js"></script>
<script src="data/Permukiman_Sidoarjo_4.js"></script>
<script src="data/Buffered_200M_Sidoarjo_RAWAN_Rendah_5.js"></script>
<script src="data/Buffered_100M_Sidoarjo_RAWAN_Sedang_6.js"></script>
<script src="data/Buffered_50M_Sidoarjo_RAWAN_Tinggi_7.js"></script>
<script src="data/Sungai_8.js"></script>
<script src="data/Garis_Pantai_Sidoarjo_9.js"></script>

<script>
// MAP
var map = L.map('map').setView([-7.446, 112.718], 11);

// BASEMAP
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; OpenStreetMap'
}).addTo(map);

// STYLE
function styleFill(color){
    return {
        color: '#000',
        weight: 1,
        fillColor: color,
        fillOpacity: 0.7
    };
}

// LAYERS
var kesesuaian = L.geoJSON(json_Kesesuaian_Permukiman_DISSOLVE_1, {
    style: styleFill('#b7484b')
}).addTo(map);

var bufferPendidikan = L.geoJSON(json_Buffered_500M_Pendidikan_Sidoarjo_2, {
    style: styleFill('#ff9e17')
});

var permukiman = L.geoJSON(json_Permukiman_Sidoarjo_4, {
    style: styleFill('#a47158')
});

var rawanRendah = L.geoJSON(json_Buffered_200M_Sidoarjo_RAWAN_Rendah_5, {
    style: styleFill('#f4ff4b')
});

var rawanSedang = L.geoJSON(json_Buffered_100M_Sidoarjo_RAWAN_Sedang_6, {
    style: styleFill('#ff9a00')
});

var rawanTinggi = L.geoJSON(json_Buffered_50M_Sidoarjo_RAWAN_Tinggi_7, {
    style: styleFill('#e31a1c')
});

var sungai = L.geoJSON(json_Sungai_8, {
    style: { color:'#3b82f6', weight:2 }
});

var pantai = L.geoJSON(json_Garis_Pantai_Sidoarjo_9, {
    style: { color:'#22c55e', weight:2 }
});

// CONTROL
var overlays = {
    "Kesesuaian Permukiman": kesesuaian,
    "Permukiman": permukiman,
    "Buffer Pendidikan 500 m": bufferPendidikan,
    "Rawan Banjir Rendah": rawanRendah,
    "Rawan Banjir Sedang": rawanSedang,
    "Rawan Banjir Tinggi": rawanTinggi,
    "Sungai": sungai,
    "Garis Pantai": pantai
};

L.control.layers(null, overlays, { collapsed:false }).addTo(map);
</script>

</body>
</html>
